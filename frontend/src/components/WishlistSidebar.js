import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { Sheet, SheetContent, SheetHeader, SheetTitle, SheetDescription, } from "./ui/sheet";
import { Button } from "./ui/button";
import { Badge } from "./ui/badge";
import { Separator } from "./ui/separator";
import { ScrollArea } from "./ui/scroll-area";
import { Heart, ShoppingCart, Trash2, Star, Share2, Eye, } from "lucide-react";
import { ImageWithFallback } from "./figma/ImageWithFallback";
import { formatPrice } from "../utils/utils";
export function WishlistSidebar({ isOpen, onClose, items, onRemoveItem, onAddToCart, onViewProduct, }) {
    const shareWishlist = () => {
        if (navigator.share) {
            navigator.share({
                title: "Danh sách yêu thích của tôi - ShopMart",
                text: `Xem ${items.length} sản phẩm trong danh sách yêu thích của tôi`,
                url: window.location.href,
            });
        }
        else {
            // Fallback: copy to clipboard
            navigator.clipboard.writeText(window.location.href);
        }
    };
    return (_jsx(Sheet, { open: isOpen, onOpenChange: onClose, children: _jsxs(SheetContent, { className: "w-full sm:w-[480px] flex flex-col p-0 h-full max-h-screen", children: [_jsx("div", { className: "px-6 py-4 border-b border-border bg-card", children: _jsx(SheetHeader, { children: _jsxs(SheetTitle, { className: "flex items-center justify-between", children: [_jsxs("div", { className: "flex items-center gap-3", children: [_jsx("div", { className: "w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center", children: _jsx(Heart, { className: "w-5 h-5 text-primary" }) }), _jsxs("div", { children: [_jsx("h2", { children: "Y\u00EAu th\u00EDch" }), _jsxs(SheetDescription, { children: [items.length, " s\u1EA3n ph\u1EA9m"] })] })] }), _jsx("div", { className: "flex items-center gap-2", children: items.length > 0 && (_jsxs(_Fragment, { children: [_jsx(Button, { variant: "ghost", size: "sm", onClick: shareWishlist, className: "w-8 h-8 p-0", children: _jsx(Share2, { className: "w-4 h-4" }) }), _jsx(Badge, { variant: "secondary", className: "bg-primary/10 text-primary", children: items.length })] })) })] }) }) }), items.length === 0 ? (_jsxs("div", { className: "flex-1 flex flex-col items-center justify-center space-y-6 px-6", children: [_jsx("div", { className: "w-32 h-32 bg-gradient-to-br from-primary/10 to-primary/5 rounded-full flex items-center justify-center", children: _jsx(Heart, { className: "w-16 h-16 text-primary/60" }) }), _jsxs("div", { className: "text-center space-y-2", children: [_jsx("h3", { className: "text-lg font-semibold", children: "Danh s\u00E1ch y\u00EAu th\u00EDch tr\u1ED1ng" }), _jsx("p", { className: "text-muted-foreground text-sm max-w-[280px]", children: "Th\u00EAm s\u1EA3n ph\u1EA9m y\u00EAu th\u00EDch \u0111\u1EC3 d\u1EC5 d\u00E0ng t\u00ECm l\u1EA1i v\u00E0 mua s\u1EAFm sau n\u00E0y" })] }), _jsx(Button, { onClick: onClose, className: "px-8", children: "Kh\u00E1m ph\u00E1 s\u1EA3n ph\u1EA9m" })] })) : (_jsxs(_Fragment, { children: [_jsx(ScrollArea, { className: "flex-1 px-6 min-h-0", children: _jsx("div", { className: "space-y-4 py-4", children: items.map((item) => (_jsxs("div", { className: "group relative bg-card border border-border rounded-xl p-4 transition-all duration-200 hover:shadow-md hover:border-primary/20", children: [item.isSale && (_jsx(Badge, { className: "absolute -top-2 -right-2 bg-destructive text-destructive-foreground z-10", children: "SALE" })), _jsxs("div", { className: "flex gap-4", children: [_jsx("div", { className: "relative w-20 h-20 bg-muted/20 rounded-xl overflow-hidden flex-shrink-0", children: _jsx(ImageWithFallback, { src: item.image, alt: item.name, className: "w-full h-full object-cover transition-transform duration-200 group-hover:scale-105" }) }), _jsxs("div", { className: "flex-1 space-y-3", children: [_jsxs("div", { className: "flex items-start justify-between gap-2", children: [_jsxs("div", { className: "flex-1", children: [_jsx("h4", { className: "font-medium text-sm line-clamp-2 leading-relaxed", children: item.name }), _jsxs("div", { className: "flex items-center gap-2 mt-1", children: [_jsx("p", { className: "text-xs text-muted-foreground", children: item.brand }), item.rating > 0 && (_jsxs("div", { className: "flex items-center gap-1", children: [_jsx(Star, { className: "w-3 h-3 fill-yellow-400 text-yellow-400" }), _jsx("span", { className: "text-xs text-muted-foreground", children: item.rating })] }))] })] }), _jsx(Button, { variant: "ghost", size: "sm", className: "w-8 h-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10 transition-colors", onClick: () => onRemoveItem(item.id), children: _jsx(Trash2, { className: "w-4 h-4" }) })] }), _jsxs("div", { className: "flex items-center justify-between", children: [_jsxs("div", { className: "space-y-1", children: [_jsx("div", { className: "font-semibold text-primary", children: formatPrice(item.price) }), item.originalPrice && (_jsx("div", { className: "text-xs text-muted-foreground line-through", children: formatPrice(item.originalPrice) })), _jsx("div", { className: `text-xs ${item.inStock ? "text-green-600" : "text-red-600"}`, children: item.inStock
                                                                                ? "Còn hàng"
                                                                                : "Hết hàng" })] }), _jsxs("div", { className: "flex items-center gap-2", children: [_jsx(Button, { variant: "outline", size: "sm", onClick: () => onViewProduct(item.id), className: "w-8 h-8 p-0", children: _jsx(Eye, { className: "w-4 h-4" }) }), _jsxs(Button, { size: "sm", onClick: () => onAddToCart(item), disabled: !item.inStock, className: "gap-1", children: [_jsx(ShoppingCart, { className: "w-3 h-3" }), "Th\u00EAm"] })] })] })] })] })] }, item.id))) }) }), _jsxs("div", { className: "bg-muted/30 border-t border-border p-6 space-y-4", children: [_jsxs("div", { className: "grid grid-cols-2 gap-3", children: [_jsxs(Button, { variant: "outline", className: "gap-2", onClick: () => {
                                                items
                                                    .filter((item) => item.inStock)
                                                    .forEach((item) => onAddToCart(item));
                                            }, disabled: items.filter((item) => item.inStock)
                                                .length === 0, children: [_jsx(ShoppingCart, { className: "w-4 h-4" }), "Th\u00EAm t\u1EA5t c\u1EA3"] }), _jsxs(Button, { variant: "outline", className: "gap-2", onClick: shareWishlist, children: [_jsx(Share2, { className: "w-4 h-4" }), "Chia s\u1EBB"] })] }), _jsx(Separator, {}), _jsx(Button, { variant: "outline", className: "w-full", onClick: onClose, children: "Ti\u1EBFp t\u1EE5c mua s\u1EAFm" })] })] }))] }) }));
}
